<style>


.nav-menu {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }
  .nav-item {
    display: flex;
    gap: 15px;
    font-size: 12px;
    margin: 18px 0 0 13px;
    padding: 0.5rem;
    width: 100%;
    box-sizing: border-box;
    transition: background-color 0.3s ease;
    cursor: pointer;
    border-radius: 10px 0 0 10px;
}
.logout-item {
      margin-top: auto;
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 0.75rem 1rem;
      color: #fff;
      text-decoration: none;
    }

.nav-item:hover {
    background: rgba(255, 255, 255, 0.1);
}

.nav-icon {
    aspect-ratio: 1;
    object-fit: contain;
    width: 20px;
}

.nav-text {
    margin: auto 0;
}

.active-nav-item {
    background: #ece9e9;
    box-shadow: 0 4px 3px rgba(0, 0, 0, 0.25);
    color: #1a1363;
    font-weight: 700;
    width: 150px;
}




    .feed-container {
      display: block;
      flex-direction: row;
      overflow: hidden;
      margin-top: 200px;
    }
    
    .feed-wrapper {
      background-color: #f0f0f0;
      box-shadow: 38px 190px 476px rgba(0, 0, 0, 0.16);
      display: block;
      width: 70%;
      flex-direction: column;
      overflow: hidden;
    }
    
    .header-nav {
      border-radius: 30px;
      background-color: #fff;
      display: flex;
      gap: 20px;
      color: #1a1363;
      flex-wrap: wrap;
      /* justify-content: space-between; */
      padding: 37px 70px 37px 32px;
      border: 2px solid #e2e2e2;
      position: fixed;
      /* top: 0; Sticks to the top of the screen */
      left: 0; /* Aligns to the left of the viewport */
      width: 100%; /* Ensures it spans the full screen width */
      box-sizing: border-box; /* Includes padding and border in width calculation */
      /* overflow-y: hidden; */
      z-index: 10;
      height: 120px;
    }
    
    .nav-links {
      display: flex;
      min-height: 51px;
      align-items: start;
      gap: 30px;
      white-space: nowrap;
      text-transform: uppercase;
      justify-content: start;
      margin: auto 0;
      font: 700 32px Saira Condensed, sans-serif;
    }
    
    .user-profile {
      display:flexbox;
      align-items:center;
      /* background-color: #000; */
      /* gap: 40px 49px;
      flex-wrap: wrap; */
      font: 400 25px Poppins, sans-serif;
      /*  */
    }
    
    .profile-image {
      aspect-ratio: 1;
      object-fit: contain;
      width: 70px;
      border-radius: 50%;
    }
    
    .profile-name {
      display: flex;
      align-items: center;
      float: right;
      gap: 12px;
    }
    
    .post-content {
      border-radius: 19px;
      background-color: #fff;
      display: flex;
      width: 100%;
      flex-direction: column;
      align-items: start;
      font: 20px Poppins, sans-serif;
      padding: 68px 48px 31px;
      border: 2px solid rgba(0, 0, 0, 0.08);
    }
    
    .post-header {
      display: flex;
      gap: 13px;
    }
    
    .post-meta {
      display: flex;
      flex-direction: column;
      flex-grow: 1;
      flex-basis: 0;
    }
    
    .post-author {
      display: flex;
      gap: 16px;
    }
    
    .post-time {
      color: rgba(0, 0, 0, 0.29);
      font-weight: 400;
    }
    
    .post-text {
      color: #000;
      font-size: 22px;
      font-weight: 400;
      margin: 25px 43px 0 0;
    }
    
    .post-image {
      aspect-ratio: 2.38;
      object-fit: contain;
      width: 70%;
      align-self: center;
      border-radius: 19px;
      margin-top: 41px;
    }
    
    .likes-section {
      display: flex;
      margin-top: 30px;
      gap: 9px;
      color: #000;
      font-weight: 400;
    }
    
    .comments-section {
      width: 100%;
    }
    
    .comment {
      border-radius: 19px;
      background-color: #f5f5f5;
      display: flex;
      flex-direction: column;
      padding: 22px 80px 22px 15px;
      margin-top: 21px;
    }
    
    .comment-author {
      display: flex;
      gap: 6px;
      color: #1a1363;
      font-weight: 600;
    }
    
    .comment-text {
      margin-left: 36px;
    }
    
    .comment-actions {
      display: flex;
      gap: 10px;
      font-size: 12px;
      color: rgba(0, 0, 0, 0.44);
      margin: 5px 0 0 36px;
    }
    
    .chat-container {
  z-index: 5; 
  position: fixed;
  top: 90px; 
  left: 0;
  width: 20%; 
  height: fit-content;
  box-sizing: border-box; 
  border-radius: 19px;
      background-color: #1a1363;
      color: #fff;
      padding: 30px 27px;
      border: 2px solid #e2e2e2;
      
}
.edit-btn {
  position: fixed; 
  right: 30;
  border-radius: 200px;
  font-size: 50px;
  bottom: 20;
  cursor: pointer;
  
  

}
input {
  width: 250px;
  border-radius:200px;
  padding-top: 10px;
  
  border: 1px solid #ccc;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  
}
    
    .chat-header {
      border-radius: 16px;
      background-color: #f1f1f1;
      display: flex;
      gap: 9px;
      color: #1a1363;
      padding: 24px 39px;
    }
    
    .chat-nav {
  display: flex;
  gap: 10px;
  font-size: 26px;
  position: fixed;
  top: 0; 
  left: 0; 
  width: 100%;
  background-color: white; 
  z-index: 1000; 
  padding: 10px 41px; 
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); 
}
    
    .communities-section {
      margin-top: 53px;
    }
    
    .community-item {
      display: flex;
      gap: 13px;
      margin: 34px 0 0 40px;
    }
    
    .community-image {
      aspect-ratio: 1;
      object-fit: contain;
      width: 78px;
      border-radius: 50%;
    }
    
    .community-info {
      display: flex;
      flex-direction: column;
      margin: auto 0;
    }
    
    .community-name {
      font-size: 19px;
      font-weight: 500;
    }
    
    .member-count {
      font-size: 14px;
      font-weight: 300;
      margin-top: 7px;
    }
    
    .visually-hidden {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      border: 0;
    }
    .sidebar {
      margin-top: 12px;
    }

    .nav-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 0.75rem 1rem;
    color: #fff;
    text-decoration: none;
    border-radius: 8px;
    transition: background-color 0.2s;
  }
  .nav-item:hover {
    background: rgba(255, 255, 255, 0.1);
    width: 150px;
}
.active-nav-item {
    background: #ece9e9;
    box-shadow: 0 4px 3px rgba(0, 0, 0, 0.25);
    color: #1a1363;
    font-weight: 700;
}
.heart-icon {
      cursor: pointer;
      font-size: 2rem;
      color: red;
    }
    
    @media (max-width: 991px) {
      .header-nav {
        padding: 0 20px;
      }
      
      .post-content {
        max-width: 100%;
        margin-top: 17px;
        padding: 0 20px;
      }
      
      .post-text {
        max-width: 100%;
        margin-right: 10px;
      }
      
      .post-image {
        max-width: 100%;
        margin-top: 40px;
      }
      
      .comment {
        max-width: 100%;
        margin-right: 10px;
        padding-right: 20px;
      }
      
      .chat-container {
        margin-top: -200px;
        padding: 0 20px 100px;
      }
      
      .chat-header {
        padding: 0 20px;
      }
      
      .chat-nav {
        margin: 40px 0 0 10px;
      }
      
      .community-item {
        margin-left: 10px;
      }
    }
    </style>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  
    <nav class="chat-nav">
        <div class="nav-links">
          <div>About</div>
          <div>Contact</div>
        </div>
        <div class="user-profile">
          <img class="profile-image" src="https://cdn.builder.io/api/v1/image/assets/TEMP/0cd30addb40561dc50395e3b22dad0e9978c7eabd875b15bc628038e2204ec2e?placeholderIfAbsent=true&apiKey=74d4c4701cc94ef982cf85de1c5ab7a1" alt="User profile" />
          <img class="profile-image" src="https://cdn.builder.io/api/v1/image/assets/TEMP/05229837cc58a5da944d256a84bead11172783df2ad4deeac2b4052a0af1e016?placeholderIfAbsent=true&apiKey=74d4c4701cc94ef982cf85de1c5ab7a1" alt="User profile" />
          <div class="profile-name">
            <!-- <img class="profile-image" src="https://cdn.builder.io/api/v1/image/assets/TEMP/490a3cda14abc3aa26ec87893d8a5d5e589c6a71f3742fbe4d32be67a4b3148b?placeholderIfAbsent=true&apiKey=74d4c4701cc94ef982cf85de1c5ab7a1" alt="Ahmed Bayoumi profile picture" /> -->
            <!-- <p id="nameLoggedin">{{user.name}}</p> -->
            <!-- <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/789cb086288498ecbcaea46c72312daecdc039757bc4fbbb600a00f6fec5b60e?placeholderIfAbsent=true&apiKey=74d4c4701cc94ef982cf85de1c5ab7a1" alt="" width="23" /> -->
          </div>
        </div>
      </nav>
      <div class="row">
        <div class="col-md-4">
      <aside class="chat-container">
        <!-- <div class="chat-header">
          <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/b845c5e8ad9ba8027e97acdaa0776012ffdd83f4c8ab0e2e1d54c2eb1caf558f?placeholderIfAbsent=true&apiKey=74d4c4701cc94ef982cf85de1c5ab7a1" alt="" width="31" />
          <div>Home</div>
        </div> -->
  
        <aside class="sidebar" role="navigation" style="width: 15%;">
          <nav class="nav-menu">
            
            <a href="{% url 'profiles' %}" class="nav-item" aria-current="false">
              <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/c787861335dbc9c1626ea7cbbc4a47ff84032e0daa4b20a952a56cba95f22faf?placeholderIfAbsent=true&apiKey=e9d236d8c0c94057ac283d5229bb03b9" alt="" class="nav-icon" aria-hidden="true" />
              <span>Profile</span>
            </a>
            {% if user.account_type == "admin" %}
            <!-- Admin-specific sidebar buttons -->
            <nav class="nav-menu">
              <a href="{% url 'Dashboard' %}" class="nav-item" aria-current="false">
                <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/e5b1e5633d6552fb186cda6d7b018a7309401bc6476ac546ea456b7a53218ee2?placeholderIfAbsent=true&apiKey=e9d236d8c0c94057ac283d5229bb03b9" alt="" class="nav-icon" aria-hidden="true" />
                <span>Dashboard</span>
              </a>
              <a href="{% url 'Posts' %}" class="active-nav-item nav-item" aria-current="false">
                <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/e5b1e5633d6552fb186cda6d7b018a7309401bc6476ac546ea456b7a53218ee2?placeholderIfAbsent=true&apiKey=e9d236d8c0c94057ac283d5229bb03b9" alt="" class="nav-icon" aria-hidden="true" />
                <span>Feed</span>
              </a>
              <nav class="nav-menu">
                <a href="{% url 'workoutpage' %}" class="nav-item" aria-current="false">
                  <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/285c0da56596654a53b4f73089a93478c8405b5c7755f6096c2eb2f748089edb?placeholderIfAbsent=true&apiKey=e9d236d8c0c94057ac283d5229bb03b9" alt="" class="nav-icon" aria-hidden="true" />
                  <span>Add Workout<span>
                </a>
            </nav>
              <a href="{% url 'usersData' %}" class="nav-item" aria-current="false">
                <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/86184e038a7647fc42fa716208a0f37c701e13b2b4ed3f3d3bb780f80a2e6972?placeholderIfAbsent=true&apiKey=e9d236d8c0c94057ac283d5229bb03b9" alt="" class="nav-icon" aria-hidden="true" />
                <span>View Members</span>
              </a>
              <a href="{% url 'coachesData' %}" class="nav-item" aria-current="false">
                <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/285c0da56596654a53b4f73089a93478c8405b5c7755f6096c2eb2f748089edb?placeholderIfAbsent=true&apiKey=e9d236d8c0c94057ac283d5229bb03b9" alt="" class="nav-icon" aria-hidden="true" />
                <span>View Coaches</span>
              </a>
            </nav>
        {% elif user.account_type == "trainee" %}
            <!-- Trainee-specific sidebar buttons -->
            <nav class="nav-menu">
              <a href="{% url 'schedule' %}" class="nav-item" aria-current="false">
                <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/94c8e67c82a455a5a6d9e1c2f56289a9c24baf55617f8a36ce239992fb0b5a90?placeholderIfAbsent=true&apiKey=e9d236d8c0c94057ac283d5229bb03b9" alt="" class="nav-icon" aria-hidden="true" />
                <span>Plan</span>
              </a>
            </nav>
            <nav class="nav-menu">
              <a href="{% url 'userstats' %}" class="nav-item" aria-current="false">
                <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/e5b1e5633d6552fb186cda6d7b018a7309401bc6476ac546ea456b7a53218ee2?placeholderIfAbsent=true&apiKey=e9d236d8c0c94057ac283d5229bb03b9" alt="" class="nav-icon" aria-hidden="true" />
                <span>Statistics</span>
              </a>
              <a href="{% url 'Posts' %}" class="active-nav-item nav-item" aria-current="false">
                <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/e5b1e5633d6552fb186cda6d7b018a7309401bc6476ac546ea456b7a53218ee2?placeholderIfAbsent=true&apiKey=e9d236d8c0c94057ac283d5229bb03b9" alt="" class="nav-icon" aria-hidden="true" />
                <span>Feed</span>
              </a>
            </nav>
        {% elif user.account_type == "coach" %}
            <!-- Coach-specific sidebar buttons -->
            <nav class="nav-menu">
              <a href="{% url 'schedule' %}" class="nav-item" aria-current="false">
                <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/94c8e67c82a455a5a6d9e1c2f56289a9c24baf55617f8a36ce239992fb0b5a90?placeholderIfAbsent=true&apiKey=e9d236d8c0c94057ac283d5229bb03b9" alt="" class="nav-icon" aria-hidden="true" />
                <span>Schedule</span>
              </a>
                <a href="{% url 'payment' %}" class="nav-item" aria-current="false">
                  <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/4069869669541f912d375e2daa0017d83c9b4f3ef7fbef7c22bf163e08e2995a?placeholderIfAbsent=true&apiKey=e9d236d8c0c94057ac283d5229bb03b9" alt="" class="nav-icon" aria-hidden="true" />
                  <span>Payment</span>
                </a>
                <a href="{% url 'Posts' %}" class="active-nav-item nav-item" aria-current="false">
                  <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/e5b1e5633d6552fb186cda6d7b018a7309401bc6476ac546ea456b7a53218ee2?placeholderIfAbsent=true&apiKey=e9d236d8c0c94057ac283d5229bb03b9" alt="" class="nav-icon" aria-hidden="true" />
                  <span>Feed</span>
                </a>
            </nav>
        {% elif user.account_type == "nutritionist" %}
            <!-- Nutritionist-specific sidebar buttons -->
            <nav class="nav-menu">
              <a href="#plan" class="nav-item" aria-current="false">
                <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/94c8e67c82a455a5a6d9e1c2f56289a9c24baf55617f8a36ce239992fb0b5a90?placeholderIfAbsent=true&apiKey=e9d236d8c0c94057ac283d5229bb03b9" alt="" class="nav-icon" aria-hidden="true" />
                <span>Plan</span>
              </a>
              <a href="{% url 'payment' %}" class="nav-item" aria-current="false">
                <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/4069869669541f912d375e2daa0017d83c9b4f3ef7fbef7c22bf163e08e2995a?placeholderIfAbsent=true&apiKey=e9d236d8c0c94057ac283d5229bb03b9" alt="" class="nav-icon" aria-hidden="true" />
                <span>Payment</span>
              </a>
              <a href="{% url 'Posts' %}" class="active-nav-item nav-item" aria-current="false">
                <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/e5b1e5633d6552fb186cda6d7b018a7309401bc6476ac546ea456b7a53218ee2?placeholderIfAbsent=true&apiKey=e9d236d8c0c94057ac283d5229bb03b9" alt="" class="nav-icon" aria-hidden="true" />
                <span>Feed</span>
              </a>
            </nav>
            {% elif user.account_type == "gym_admin" %}
      <!-- Nutritionist-specific sidebar buttons -->
      <nav class="nav-menu">
        <a href="{% url 'Equip' %}" class="nav-item" aria-current="false">
          <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/e5b1e5633d6552fb186cda6d7b018a7309401bc6476ac546ea456b7a53218ee2?placeholderIfAbsent=true&apiKey=e9d236d8c0c94057ac283d5229bb03b9" alt="" class="nav-icon" aria-hidden="true" />
          <span>Add Equipment</span>
        </a>
        <a href="{% url 'payment' %}" class="nav-item" aria-current="false">
          <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/4069869669541f912d375e2daa0017d83c9b4f3ef7fbef7c22bf163e08e2995a?placeholderIfAbsent=true&apiKey=e9d236d8c0c94057ac283d5229bb03b9" alt="" class="nav-icon" aria-hidden="true" />
          <span>Payment</span>
        </a>
        <a href="{% url 'salesReport' %}" class="nav-item" aria-current="false">
          <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/e5b1e5633d6552fb186cda6d7b018a7309401bc6476ac546ea456b7a53218ee2?placeholderIfAbsent=true&apiKey=e9d236d8c0c94057ac283d5229bb03b9" alt="" class="nav-icon" aria-hidden="true" />
          <span>Sales Report</span>
        </a>
      </nav>
        {% endif %}
        
          </nav>
          <a href="{% url 'logout' %}" class="nav-item">
            <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/4cad94fa613a5e3b0efb34fb63a8e60d1822f60ac798bace92f8985b36f0b887?placeholderIfAbsent=true&apiKey=e9d236d8c0c94057ac283d5229bb03b9" alt="" class="nav-icon" aria-hidden="true" />
            <span>Logout</span>
          </a>
        </aside>
  
        <!-- <section class="communities-section">
          <h2>My Communities</h2>
          <div class="community-item">
            <img class="community-image" src="https://cdn.builder.io/api/v1/image/assets/TEMP/19c471b03be98129b4c332c42822911060b0d5a0e1584bcf7244d5484fda2cf7?placeholderIfAbsent=true&apiKey=74d4c4701cc94ef982cf85de1c5ab7a1" alt="Websters Shivaji community" />
            <div class="community-info">
              <div class="community-name">Websters Shivaji</div>
              <div class="member-count">764 members</div>
            </div>
          </div>
  
          <div class="community-item">
            <img class="community-image" src="https://cdn.builder.io/api/v1/image/assets/TEMP/490a3cda14abc3aa26ec87893d8a5d5e589c6a71f3742fbe4d32be67a4b3148b?placeholderIfAbsent=true&apiKey=74d4c4701cc94ef982cf85de1c5ab7a1" alt="Enactus Shivaji community" />
            <div class="community-info">
              <div class="community-name">Enactus Shivaji</div>
              <div class="member-count">804 members</div>
            </div>
          </div>
  
          <div class="community-item">
            <img class="community-image" src="https://cdn.builder.io/api/v1/image/assets/TEMP/b6be71480926b22bcbfede2588ec7a3ad0295bc534d7c69da8427a4239ad9b58?placeholderIfAbsent=true&apiKey=74d4c4701cc94ef982cf85de1c5ab7a1" alt="Women Development community" />
            <div class="community-info">
              <div class="community-name">Women Development</div>
              <div class="member-count">804 members</div>
            </div>
          </div>
  
          <div class="community-item">
            <img class="community-image" src="https://cdn.builder.io/api/v1/image/assets/TEMP/53b1b3c1bc1f55d9cb16b1f75ac28a0c25235512a9559286d52e2338610567bd?placeholderIfAbsent=true&apiKey=74d4c4701cc94ef982cf85de1c5ab7a1" alt="Alumni Relations community" />
            <div class="community-info">
              <div class="community-name">Alumni Relations</div>
              <div class="member-count">804 members</div>
            </div>
          </div>
  
          <button class="see-all">See All</button>
        </section> -->
      </aside>
    </div>
    <div class="col-md-8">
    <div class="feed-container">
      <i class="bi bi-plus-circle-fill edit-btn" data-toggle="modal" data-target="#exampleModal"></i>
      {% for post in posts%}
      <div class="feed-wrapper">
        
    
        <main class="post-content">
          <div class="post-header">
            <!-- <img class="profile-image" src="" alt="Post author profile picture" /> -->
            <div class="post-meta">
              <div class="post-author">
                <div>{{post.name}}</div>
                <!-- <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/7cae07b89eb30c733df9ffcc6b57e52ce68642e70c485a2eaf9af24c7bd809d2?placeholderIfAbsent=true&apiKey=74d4c4701cc94ef982cf85de1c5ab7a1" alt="" width="11" /> -->
                {% if post.posterName == user.name%}
                  <div>You</div>
                {% else %}
                <div>{{post.posterName}}</div>
                {% endif %}
              </div>
              <!-- <div class="post-time">12 mins ago</div> -->
            </div>
          </div>
    
          <p class="post-text">
            {{post.description}}
          </p>
    
          <img class="post-image" src="{{post.photoUrl}}" alt="React development article preview" />
    
          <div class="likes-section">
            
            <div>Likes {{post.no_likes}}</div> 
          </div>
    
          <section class="comments-section">
            <h2>Comments:</h2>
            {% for comment in comments %}
              {% if comment.post_id == post.post_id %}
            <div class="comment">
              <div class="comment-author">
                <!-- <img class="profile-image" src="https://cdn.builder.io/api/v1/image/assets/TEMP/490a3cda14abc3aa26ec87893d8a5d5e589c6a71f3742fbe4d32be67a4b3148b?placeholderIfAbsent=true&apiKey=74d4c4701cc94ef982cf85de1c5ab7a1" alt="Elon Musk profile picture" /> -->
                {% if comment.commentorName == user.name%}
                  <div>You</div>
                {% else %}
                <div>{{comment.commentorName}}</div>
                {% endif %}
              </div>
              <p class="comment-text">{{comment.comment}}</p>
              
            </div>
            {% endif %}
            {% endfor %}
            <p id="postID-{{post.post_id}}" style="display: none;">{{post.post_id}}</p>
            <input type="text" id="comment" onkeypress="check(event)"/>
    
            
          </section>
        </main>
    
        
      </div>
      {%endfor%}
    </div>
    
</div>
</div>
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">New Post</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form>
          <div class="form-group">
            <label for="description" class="col-form-label">Description:</label>
            <input type="text" class="form-control" id="description">
            <label for="photoUrl" class="col-form-label">Photo:</label>
            
            <input type="text" class="form-control" id="photoUrl">
            
          </div>
         
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" onclick="changeData()">Save</button>
      </div>
    </div>
  </div>
  </div>
 
    <head>
      <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
      
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
  
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    </head>
    <script>
  function changeData(){
  const photoUrl = document.getElementById("photoUrl").value
  const description = document.getElementById("description").value
  // const name = document.getElementById("nameLoggedin").value
  const changedData = {
    description: description,
    photoUrl :photoUrl,
    // posterName: name,
  };
  const changedataurl = "{% url 'addPost' %}";
  console.log("gg" , changedData)
  fetch(changedataurl,{
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
        'X-CSRFToken': getCookie('csrftoken'),
    },
    body: JSON.stringify(changedData),
}).then(response => {
      if (response.ok) {
        window.location.href = "{% url 'Posts' %}"; // Redirect on success
      } else {
        alert("An error occurred, please try again.");
      }
    })
    .catch(error => {
      console.error('Error:', error);
      alert("An error occurred, please try again.");
    });
    function getCookie(name) {
    const cookieValue = document.cookie
      .split('; ')
      .find(row => row.startsWith(name + '='))
      .split('=')[1];
    return decodeURIComponent(cookieValue);
  }


}
// function check(event) {
//     if (event.key === "Enter") {
        
//         addComment();
//     }
// }

function check(event) {
  
  if (event.key === "Enter") {
    const inputElement = event.target; 
    const postSection = inputElement.closest(".comments-section");
    const postIDElement = postSection.querySelector('[id^="postID-"]'); 

    if (postIDElement) {
      const postID = postIDElement.textContent.trim(); 
      const commentText = inputElement.value.trim(); 

      if (commentText) {
        addComment(postID,commentText)
       
        inputElement.value = "";

       
      } 
    }
  }
}


  function addComment(postID,comment){
  



  const changedData = {
    comment: comment,
    postID: postID
    // photoUrl :photoUrl,
    // posterName: name,
  };
  const changedataurl = "{% url 'addComment' %}";
  console.log("gg" , changedData)
  fetch(changedataurl,{
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
        'X-CSRFToken': getCookie('csrftoken'),
    },
    body: JSON.stringify(changedData),
}).then(response => {
      if (response.ok) {
        window.location.href = "{% url 'Posts' %}"; // Redirect on success
      } else {
        alert("An error occurred, please try again.");
      }
    })
    .catch(error => {
      console.error('Error:', error);
      alert("An error occurred, please try again.");
    });
    function getCookie(name) {
    const cookieValue = document.cookie
      .split('; ')
      .find(row => row.startsWith(name + '='))
      .split('=')[1];
    return decodeURIComponent(cookieValue);
  }


}

</script>
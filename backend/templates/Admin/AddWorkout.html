<style>
    /* .body{
        width: 100%;
        height: 100%;
    } */
    .equipment-inventory {
      background: #fff;
      display: flex;
      flex-direction: column;
      overflow: hidden;
      align-items: center;
      justify-content: center;
      padding: 0px 70px;
      width: 100%;
      height: 100%;
      
      
    }
    
    .inventory-container {
      border-radius: 18px;
      background: #ECE9E9;
      box-shadow: 0 4px 4px rgba(0, 0, 0, 0.25);
      width: 100%;
      
      height: 100%;
      
      /* padding: 1px 67px 1px 0; */
    }
    
    .content-wrapper {
      display: flex;
      gap: 20px;
      height: 100%;
      width: 100%;
    }
    
    .sidebar {
  z-index: 5; 
  position: fixed;
  /* top: 120px; Matches the header height */
  left: 0;
  width: 20%; 
  height: 100%;
  box-sizing: border-box; 
  border-radius: 19px;
  background-color: #1A1363; 
  color: #fff;
  padding: 30px 27px;
  border: 2px solid #e2e2e2; 
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  font: 400 10px Poppins, sans-serif;
  }
  
    
    .profile-image {
      aspect-ratio: 1;
      object-fit: contain;
      width: 51px;
      align-self: center;
    }
    
    .admin-name {
      font-size: 15px;
      font-weight: 700;
      align-self: center;
      margin-top: 10px;
    }
    
    .admin-email {
      text-align: center;
      align-self: center;
      margin-top: 9px;
    }
    
    .nav-item {
    display: flex;
    gap: 15px;
    font-size: 12px;
    margin: 18px 0 0 13px;
    padding: 0.5rem;
    width: 100%;
    box-sizing: border-box;
    transition: background-color 0.3s ease;
    cursor: pointer;
    border-radius: 10px 0 0 10px;
  }
  
  .nav-item:hover {
    background: rgba(255, 255, 255, 0.1);
  }
  
  .nav-icon {
    aspect-ratio: 1;
    object-fit: contain;
    width: 20px;
  }
  
  .nav-text {
    margin: auto 0;
  }
  
  .active-nav-item {
    background: #ece9e9;
    box-shadow: 0 4px 3px rgba(0, 0, 0, 0.25);
    color: #1a1363;
    font-weight: 700;
  }
    
    .nav-icon {
      aspect-ratio: 1;
      object-fit: contain;
      width: 20px;
    }
    
    .nav-text {
      margin: auto 0;
    }
    
    .active-nav {
      border-radius: 10px 0 0 10px;
      background: #ECE9E9;
      box-shadow: 0 4px 3px rgba(0, 0, 0, 0.25);
      color: #1A1363;
      font-weight: 700;
      padding: 8px 15px;
    }
    
    .logout-nav {
      margin-top: 251px;
    }
    
    .main-content {
      display: flex;
      margin-top: 6px;
      width: 100%;
      flex-direction: column;
      height: 100%;
    }
    
    .header {
      display: flex;
      width: 100%;
      gap: 20px;
      font-family: Poppins, sans-serif;
      color: #1A1363;
      flex-wrap: wrap;
      justify-content: space-between;
    }
    
    .add-equipment-btn {
      border-radius: 100px;
      background: #fff;
      box-shadow: 0 4px 4px rgba(0, 0, 0, 0.25);
      font-size: 20px;
      font-weight: 700;
      padding: 0 23px;
    }
    
    .feedback-section {
      display: flex;
      gap: 40px;
      font-size: 14px;
      margin: auto 0;
    }
    
    .equipment-table {
      border-radius: 20px;
      background: #77749B;
      box-shadow: 0 4px 4px rgba(0, 0, 0, 0.25);
      margin-top: 31px;
      size: 50%;
      max-width: 100%;
      height: 100%;
      padding: 20px 35px;
    }
    
    .table-header {
      color: #FFFADF;
      font-size: 20px;
      font-weight: 700;
    }
    
    .table-controls {
      display: flex;
      margin-top: 25px;
      gap: 7px;
    }
    
    .entities-dropdown {
      border-radius: 12px;
      background: #5D57A3;
      display: flex;
      align-items: center;
      gap: 10px;
      color: #fff;
      padding: 3px 9px;
    }
    
    .search-box {
      border-radius: 12px;
      background: #5D57A3;
      padding: 3px 21px;
      color: #fff;
    }
    
    .equipment-list {
      margin-top: 25px;
      color: #fff;
    }
    
    .equipment-item {
      display: flex;
      justify-content: space-between;
      margin-top: 13px;
    }
    
    .edit-btn {
      border-radius: 10px;
      background: #fff;
      color: #2B2B2B;
      font-size: 10px;
      padding: 3px 10px;
    }
    
    .pagination {
      display: flex;
      margin-top: 32px;
      gap: 5px;
      justify-content: flex-end;
    }
    
    .page-btn {
      border-radius: 10px;
      background: #666385;
      color: #2B2B2B;
      padding: 3px 15px;
    }
    
    .visually-hidden {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0,0,0,0);
      border: 0;
    }
    
    /* @media (max-width: 991px) {
      .equipment-inventory {
        padding: 0 20px;
      }
      
      .inventory-container {
        padding-right: 20px;
      }
      
      .content-wrapper {
        flex-direction: column;
        align-items: stretch;
        gap: 0;
      }
      
      .sidebar {
        margin-top: 9px;
      }
      
      .nav-item {
        margin: 40px 0 0 10px;
      }
      
      .logout-nav {
        margin-top: 40px;
      }
      
      .main-content {
        margin-top: 15px;
      }
      
      .equipment-table {
        padding: 0 20px;
      }
    } */
    </style>
    <head>   
      <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
      
    </head>
    <div class="container">
    <div class="row">
      <div class="col-md-2">
    <aside class="sidebar" role="navigation">
      <nav class="nav-menu">
        <a href="{% url 'profiles' %}" class="nav-item" aria-current="false">
          <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/c787861335dbc9c1626ea7cbbc4a47ff84032e0daa4b20a952a56cba95f22faf?placeholderIfAbsent=true&apiKey=e9d236d8c0c94057ac283d5229bb03b9" alt="" class="nav-icon" aria-hidden="true" />
          <span>Profile</span>
        </a>
        {% if user.account_type == "admin" %}
        <!-- Admin-specific sidebar buttons -->
        <nav class="nav-menu">
          <a href="{% url 'Dashboard' %}" class="nav-item" aria-current="false">
            <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/e5b1e5633d6552fb186cda6d7b018a7309401bc6476ac546ea456b7a53218ee2?placeholderIfAbsent=true&apiKey=e9d236d8c0c94057ac283d5229bb03b9" alt="" class="nav-icon" aria-hidden="true" />
            <span>Dashboard</span>
          </a>
          <a href="{% url 'Posts' %}" class="nav-item" aria-current="false">
            <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/e5b1e5633d6552fb186cda6d7b018a7309401bc6476ac546ea456b7a53218ee2?placeholderIfAbsent=true&apiKey=e9d236d8c0c94057ac283d5229bb03b9" alt="" class="nav-icon" aria-hidden="true" />
            <span>Feed</span>
          </a>
          <nav class="nav-menu">
            <a href="{% url 'workoutpage' %}" class="nav-item" aria-current="false">
              <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/285c0da56596654a53b4f73089a93478c8405b5c7755f6096c2eb2f748089edb?placeholderIfAbsent=true&apiKey=e9d236d8c0c94057ac283d5229bb03b9" alt="" class="nav-icon" aria-hidden="true" />
              <span>Add Workout<span>
            </a>
        </nav>
  
          <a href="{% url 'usersData' %}" class="nav-item" aria-current="false">
            <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/86184e038a7647fc42fa716208a0f37c701e13b2b4ed3f3d3bb780f80a2e6972?placeholderIfAbsent=true&apiKey=e9d236d8c0c94057ac283d5229bb03b9" alt="" class="nav-icon" aria-hidden="true" />
            <span>View Members</span>
          </a>
          <a href="{% url 'coachesData' %}" class="active-nav-item nav-item" aria-current="false">
            <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/285c0da56596654a53b4f73089a93478c8405b5c7755f6096c2eb2f748089edb?placeholderIfAbsent=true&apiKey=e9d236d8c0c94057ac283d5229bb03b9" alt="" class="nav-icon" aria-hidden="true" />
            <span>View Coaches</span>
          </a>
  
        </nav>
    {% elif user.account_type == "trainee" %}
        <!-- Trainee-specific sidebar buttons -->
        <nav class="nav-menu">
          <a href="#plan" class="nav-item" aria-current="false">
            <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/94c8e67c82a455a5a6d9e1c2f56289a9c24baf55617f8a36ce239992fb0b5a90?placeholderIfAbsent=true&apiKey=e9d236d8c0c94057ac283d5229bb03b9" alt="" class="nav-icon" aria-hidden="true" />
            <span>Plan</span>
          </a>
          <a href="{% url 'Posts' %}" class="nav-item" aria-current="false">
            <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/e5b1e5633d6552fb186cda6d7b018a7309401bc6476ac546ea456b7a53218ee2?placeholderIfAbsent=true&apiKey=e9d236d8c0c94057ac283d5229bb03b9" alt="" class="nav-icon" aria-hidden="true" />
            <span>Feed</span>
          </a>
          <a href="{% url 'registerCoach' %}" class="nav-item" aria-current="false">
            <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/285c0da56596654a53b4f73089a93478c8405b5c7755f6096c2eb2f748089edb?placeholderIfAbsent=true&apiKey=e9d236d8c0c94057ac283d5229bb03b9" alt="" class="nav-icon" aria-hidden="true" />
            <span>Register Coach</span>
          </a>
        </nav>
        <nav class="nav-menu">
          <a href="{% url 'registerNutritionist' %}" class="nav-item" aria-current="false">
            <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/285c0da56596654a53b4f73089a93478c8405b5c7755f6096c2eb2f748089edb?placeholderIfAbsent=true&apiKey=e9d236d8c0c94057ac283d5229bb03b9" alt="" class="nav-icon" aria-hidden="true" />
            <span>Register Nutritionist</span>
          </a>
      </nav>
    {% elif user.account_type == "coach" %}
        <!-- Coach-specific sidebar buttons -->
        <nav class="nav-menu">
          <a href="#plan" class="nav-item" aria-current="false">
            <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/94c8e67c82a455a5a6d9e1c2f56289a9c24baf55617f8a36ce239992fb0b5a90?placeholderIfAbsent=true&apiKey=e9d236d8c0c94057ac283d5229bb03b9" alt="" class="nav-icon" aria-hidden="true" />
            <span>Plan</span>
          </a>
            <a href="#payment" class="nav-item" aria-current="false">
              <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/4069869669541f912d375e2daa0017d83c9b4f3ef7fbef7c22bf163e08e2995a?placeholderIfAbsent=true&apiKey=e9d236d8c0c94057ac283d5229bb03b9" alt="" class="nav-icon" aria-hidden="true" />
              <span>Payment</span>
            </a>
            <a href="{% url 'Posts' %}" class="nav-item" aria-current="false">
              <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/e5b1e5633d6552fb186cda6d7b018a7309401bc6476ac546ea456b7a53218ee2?placeholderIfAbsent=true&apiKey=e9d236d8c0c94057ac283d5229bb03b9" alt="" class="nav-icon" aria-hidden="true" />
              <span>Feed</span>
            </a>
        </nav>
    {% elif user.account_type == "nutritionist" %}
        <!-- Nutritionist-specific sidebar buttons -->
        <nav class="nav-menu">
          <a href="#plan" class="nav-item" aria-current="false">
            <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/94c8e67c82a455a5a6d9e1c2f56289a9c24baf55617f8a36ce239992fb0b5a90?placeholderIfAbsent=true&apiKey=e9d236d8c0c94057ac283d5229bb03b9" alt="" class="nav-icon" aria-hidden="true" />
            <span>Plan</span>
          </a>
          <a href="#payment" class="nav-item" aria-current="false">
            <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/4069869669541f912d375e2daa0017d83c9b4f3ef7fbef7c22bf163e08e2995a?placeholderIfAbsent=true&apiKey=e9d236d8c0c94057ac283d5229bb03b9" alt="" class="nav-icon" aria-hidden="true" />
            <span>Payment</span>
          </a>
          <a href="{% url 'Posts' %}" class="nav-item" aria-current="false">
            <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/e5b1e5633d6552fb186cda6d7b018a7309401bc6476ac546ea456b7a53218ee2?placeholderIfAbsent=true&apiKey=e9d236d8c0c94057ac283d5229bb03b9" alt="" class="nav-icon" aria-hidden="true" />
            <span>Feed</span>
          </a>
        </nav>
    {% endif %}
    
      </nav>
      <a href="{% url 'logout' %}" class="nav-item">
        <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/4cad94fa613a5e3b0efb34fb63a8e60d1822f60ac798bace92f8985b36f0b887?placeholderIfAbsent=true&apiKey=e9d236d8c0c94057ac283d5229bb03b9" alt="" class="nav-icon" aria-hidden="true" />
        <span>Logout</span>
      </a>
    </aside>
  </div>
  <div class="col-md-10">
    <div class="equipment-inventory">
      <!-- <div class="inventory-container"> -->
        <!-- <div class="content-wrapper"> -->
            
    
          <main class="main-content">
            <div class="main-content" style="max-width: 600px; margin: 0 auto; padding: 20px;">
                <h2>Add Workout</h2>
                <form id="addWorkoutForm">
                    {% csrf_token %}
                    <div style="margin-bottom: 15px;">
                        <label for="workoutName" style="display: block; margin-bottom: 5px;">Workout Name</label>
                        <input type="text" id="workoutName" name="workout_name" style="width: 100%; padding: 8px;" required />
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label for="description" style="display: block; margin-bottom: 5px;">Description</label>
                        <textarea id="description" name="description" style="width: 100%; padding: 8px;" rows="4" required></textarea>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label for="duration" style="display: block; margin-bottom: 5px;">Duration (minutes)</label>
                        <input type="number" id="duration" name="duration" style="width: 100%; padding: 8px;" required />
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label for="difficultyLevel" style="display: block; margin-bottom: 5px;">Difficulty Level</label>
                        <select id="difficultyLevel" name="difficulty_level" style="width: 100%; padding: 8px;" required>
                            <option value="" disabled selected>Select difficulty</option>
                            <option value="Easy">Easy</option>
                            <option value="Medium">Medium</option>
                            <option value="Hard">Hard</option>
                        </select>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <label for="targetMuscleGroup" style="display: block; margin-bottom: 5px;">Target Muscle Group</label>
                        <input type="text" id="targetMuscleGroup" name="target_muscle_group" style="width: 100%; padding: 8px;" required />
                    </div>
                    <button type="submit" id="submitWorkout" style="padding: 10px 20px; background-color: #007BFF; color: white; border: none; border-radius: 5px; cursor: pointer;">
                        Submit
                    </button>
                </form>
                <div id="successMessage" style="display:none; margin-top: 20px; color: green;">Workout added successfully!</div>
            </div>
            
            <script>
 document.getElementById('addWorkoutForm').addEventListener('submit', function (event) {
    event.preventDefault(); // Prevent the default form submission
    
    const workoutName = document.getElementById('workoutName').value;
    const description = document.getElementById('description').value;
    const duration = document.getElementById('duration').value;
    const difficultyLevel = document.getElementById('difficultyLevel').value;
    const targetMuscleGroup = document.getElementById('targetMuscleGroup').value;

    if (!workoutName || !description || !duration || !difficultyLevel || !targetMuscleGroup) {
        alert('Please fill in all fields.');
        return;
    }

    const addWorkoutData = {
        workout_name: workoutName,
        description: description,
        duration: duration,
        difficulty_level: difficultyLevel,
        target_muscle_group: targetMuscleGroup,
    };

    const addWorkoutUrl = "{% url 'addworkout' %}"; // Ensure this URL resolves correctly

    console.log(addWorkoutData); // Debugging to confirm data before sending

    fetch(addWorkoutUrl, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
            'X-CSRFToken': getCookie('csrftoken'), // CSRF token handling
        },
        body: JSON.stringify(addWorkoutData),
    })
        .then(response => {
            if (response.ok) {
                document.getElementById('successMessage').style.display = 'block';
                setTimeout(() => {
                    window.location.reload(); // Reloads the page after a short delay
                }, 1000);
            } else {
                alert('An error occurred while adding the workout. Please try again.');
            }
        })
        .catch(error => {
            console.error('Error:', error);
            alert('An error occurred. Please try again.');
        });
});


                function getCookie(name) {
    let cookieValue = null;
    if (document.cookie && document.cookie !== '') {
        const cookies = document.cookie.split(';');
        for (let i = 0; i < cookies.length; i++) {
            const cookie = cookies[i].trim();
            // Does this cookie string begin with the name we want?
            if (cookie.substring(0, name.length + 1) === (name + '=')) {
                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                break;
            }
        }
    }
    return cookieValue;
}
            </script>
            
            